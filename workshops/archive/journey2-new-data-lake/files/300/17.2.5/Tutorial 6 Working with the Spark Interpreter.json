{"paragraphs":[{"text":"%md\n#Demonstration: Citi Bike New York - Working with the Spark Interpeter\n\nThis tutorial was built for BDCS-CE version 17.2.5. If you are using a later version of BDCS-CE, please look for a newer version of this tutorial notebook at <https://github.com/oracle/learning-library/tree/master/workshops/journey2-new-data-lake> . Questions and feedback about the tutorial: david.bayard@oracle.com\n\n\n    Be sure you previously ran the Tutorial: \"Citi Bike New York Demo Introduction and Setup\" which places the necessary CSV File into the \"citibike\" Object Store container.\n\nThis tutorial will illustrate how to run Spark interpreter to define a temporary Spark SQL table against a CSV file and then query it.\n\n## Contents\n+ Configuring Spark to read CSV files\n+ Reading the data and registering as a Spark SQL table\n+ Querying bike trip information\n+ Next Steps\n\nAs a reminder, the documentation for BDCS-CE can be found here: <http://docs.oracle.com/cloud/latest/big-data-compute-cloud/index.html>","authenticationInfo":{},"dateUpdated":"Jun 16, 2017 10:46:23 AM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953617_-226190603","id":"20170414-131903_889251720","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>Demonstration: Citi Bike New York - Working with the Spark Interpeter</h1>\n<p>This tutorial was built for BDCS-CE version 17.2.5. If you are using a later version of BDCS-CE, please look for a newer version of this tutorial notebook at <a href=\"https://github.com/oracle/learning-library/tree/master/workshops/journey2-new-data-lake\">https://github.com/oracle/learning-library/tree/master/workshops/journey2-new-data-lake</a> . Questions and feedback about the tutorial: david.bayard@oracle.com</p>\n<pre><code>Be sure you previously ran the Tutorial: \"Citi Bike New York Demo Introduction and Setup\" which places the necessary CSV File into the \"citibike\" Object Store container.\n</code></pre>\n<p>This tutorial will illustrate how to run Spark interpreter to define a temporary Spark SQL table against a CSV file and then query it.</p>\n<h2>Contents</h2>\n<ul>\n<li>Configuring Spark to read CSV files</li>\n<li>Reading the data and registering as a Spark SQL table</li>\n<li>Querying bike trip information</li>\n<li>Next Steps</li>\n</ul>\n<p>As a reminder, the documentation for BDCS-CE can be found here: <a href=\"http://docs.oracle.com/cloud/latest/big-data-compute-cloud/index.html\">http://docs.oracle.com/cloud/latest/big-data-compute-cloud/index.html</a></p>\n"},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 14, 2017 4:15:43 PM","dateFinished":"Jun 14, 2017 4:15:43 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:199"},{"text":"%md\n#About Spark and Spark SQL\n\nBDCS-CE version 17.2.5 comes with Spark version 1.6.1, Scala version 2.10, and Python version 2.6.6.  This BDCS-CE version supplies Zeppelin interpreters for Spark(Scala), Spark(Python), and Spark SQL.  This tutorial will give you examples using all of these.\n\nThe tutorial assumes you have a basic knowledge about Spark.  To learn more about Spark, check out <https://spark.apache.org/docs/1.6.1/quick-start.html> and <https://spark.apache.org/docs/1.6.1/sql-programming-guide.html>\n\n","authenticationInfo":{},"dateUpdated":"Jun 16, 2017 10:39:19 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497623929606_-1352361026","id":"20170616-103849_1176559517","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>About Spark and Spark SQL</h1>\n<p>BDCS-CE version 17.2.5 comes with Spark version 1.6.1, Scala version 2.10, and Python version 2.6.6.  This BDCS-CE version supplies Zeppelin interpreters for Spark(Scala), Spark(Python), and Spark SQL.  This tutorial will give you examples using all of these.</p>\n<p>The tutorial assumes you have a basic knowledge about Spark.  To learn more about Spark, check out <a href=\"https://spark.apache.org/docs/1.6.1/quick-start.html\">https://spark.apache.org/docs/1.6.1/quick-start.html</a> and <a href=\"https://spark.apache.org/docs/1.6.1/sql-programming-guide.html\">https://spark.apache.org/docs/1.6.1/sql-programming-guide.html</a></p>\n"},"dateCreated":"Jun 16, 2017 10:38:49 AM","dateStarted":"Jun 16, 2017 10:39:15 AM","dateFinished":"Jun 16, 2017 10:39:15 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:200"},{"text":"%md\n##Configuring Spark to read CSV files\n\nThe next step is to configure the Zeppelin Spark Interpreter to read CSV files.  BDCS-CE version 17.2.5 includes Spark version 1.6.1.  This version of Spark can read CSVs, but the functionality is not loaded in Spark by default.  To use the CSV functionality, we need to add it as a dependency.\n\nFollow this procedure (hint: you might want to open up a new browser window so you can keep this instructions open):\n + Go to the Settings tab\n + Click on Notebook\n + In the Spark Interpreter section, click on Edit\n + Scroll down to the bottom of the Spark section, type in com.databricks:spark-csv_2.10:1.5.0 in the Artifact field to add a new dependency\n![csv image](https://raw.githubusercontent.com/oracle/learning-library/master/workshops/journey2-new-data-lake/images/300/snap0011518.jpg \"CSV Dependency\")\n + Click the Save button at the bottom of the Spark section\n + Then, click the OK button to restart the Spark interpreter to pick up the new settings\n\nHere is an animation of the above:\n![sparkCSVvideo](https://raw.githubusercontent.com/oracle/learning-library/master/workshops/journey2-new-data-lake/images/300/SparkCSV.gif \"sparkCSVvideo\")\n\nFor more details about Spark CSV support, see <https://github.com/databricks/spark-csv>.  As an aside, Zeppelin has a Spark Dependency interpreter (%dep) but that interpreter is depreciated and you will find that packages you list via the %dep interpreter will not be picked up if you leverage Spark SQL.  Therefore, you should use the Settings tab to define your Spark dependencies, not the %dep interpreter.","authenticationInfo":{},"dateUpdated":"Jun 12, 2017 9:51:54 AM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953617_-226190603","id":"20170417-082204_950298429","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Configuring Spark to read CSV files</h2>\n<p>The next step is to configure the Zeppelin Spark Interpreter to read CSV files.  BDCS-CE version 17.2.5 includes Spark version 1.6.1.  This version of Spark can read CSVs, but the functionality is not loaded in Spark by default.  To use the CSV functionality, we need to add it as a dependency.</p>\n<p>Follow this procedure (hint: you might want to open up a new browser window so you can keep this instructions open):</p>\n<ul>\n<li>Go to the Settings tab</li>\n<li>Click on Notebook</li>\n<li>In the Spark Interpreter section, click on Edit</li>\n<li>Scroll down to the bottom of the Spark section, type in com.databricks:spark-csv_2.10:1.5.0 in the Artifact field to add a new dependency\n<br  /><img src=\"https://raw.githubusercontent.com/oracle/learning-library/master/workshops/journey2-new-data-lake/images/300/snap0011518.jpg\" alt=\"csv image\" title=\"CSV Dependency\" /></li>\n<li>Click the Save button at the bottom of the Spark section</li>\n<li>Then, click the OK button to restart the Spark interpreter to pick up the new settings</li>\n</ul>\n<p>Here is an animation of the above:\n<br  /><img src=\"https://raw.githubusercontent.com/oracle/learning-library/master/workshops/journey2-new-data-lake/images/300/SparkCSV.gif\" alt=\"sparkCSVvideo\" title=\"sparkCSVvideo\" /></p>\n<p>For more details about Spark CSV support, see <a href=\"https://github.com/databricks/spark-csv\">https://github.com/databricks/spark-csv</a>.  As an aside, Zeppelin has a Spark Dependency interpreter (%dep) but that interpreter is depreciated and you will find that packages you list via the %dep interpreter will not be picked up if you leverage Spark SQL.  Therefore, you should use the Settings tab to define your Spark dependencies, not the %dep interpreter.</p>\n"},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 12, 2017 9:51:50 AM","dateFinished":"Jun 12, 2017 9:51:50 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:201"},{"text":"%md\n##Before you continue...\n\n    Before you continue, be sure that you followed the manual instructions in the Paragraph above to configure the Spark CSV support. ","authenticationInfo":{},"dateUpdated":"Jun 14, 2017 4:13:30 PM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953618_-225036357","id":"20170417-085159_2076873409","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Before you continue&hellip;</h2>\n<pre><code>Before you continue, be sure that you followed the manual instructions in the Paragraph above to configure the Spark CSV support.\n</code></pre>\n"},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 14, 2017 4:13:25 PM","dateFinished":"Jun 14, 2017 4:13:25 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:202"},{"text":"%md\n##Reading the data and registering as a Spark SQL table\n\nThe next step is to use Spark to read our bike data CSV file that we uploaded to the Object Store.  Once we read the CSV into a Spark Data Frame, we will ask Spark to cache the data in memory.  Then we will register the data frame as a Spark SQL temp table.\n\nYou can review the Spark SQL programming guide for a refresher about Data Frames and Temporary Tables: <https://spark.apache.org/docs/1.6.1/sql-programming-guide.html>\n\n","authenticationInfo":{},"dateUpdated":"Jun 16, 2017 10:42:32 AM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953618_-225036357","id":"20170417-090240_1793194469","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Reading the data and registering as a Spark SQL table</h2>\n<p>The next step is to use Spark to read our bike data CSV file that we uploaded to the Object Store.  Once we read the CSV into a Spark Data Frame, we will ask Spark to cache the data in memory.  Then we will register the data frame as a Spark SQL temp table.</p>\n<p>You can review the Spark SQL programming guide for a refresher about Data Frames and Temporary Tables: <a href=\"https://spark.apache.org/docs/1.6.1/sql-programming-guide.html\">https://spark.apache.org/docs/1.6.1/sql-programming-guide.html</a></p>\n"},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 16, 2017 10:42:31 AM","dateFinished":"Jun 16, 2017 10:42:31 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:203"},{"title":"Spark Scala to read CSV and register as table","text":"%spark\n\n//a previous tutorial placed the csv file into your Object Store citibike container\n//notice the use of the swift://CONTAINER.defaut/ syntax\n\nval df = sqlContext.read.format(\"com.databricks.spark.csv\").option(\"header\", \"true\").load(\"swift://citibike.default/201612-citibike-tripdata.csv\")\n\n//cache the data frame for performance\ndf.cache()\n\n\nprintln(\"Here is the schema detected from the CSV\")\ndf.printSchema()\nprintln(\"..\")\n\nprintln(\"# of rows: %s\".format(\n  df.count() \n)) \nprintln(\"..\")\n\ndf.registerTempTable(\"bike_trips_temp\")\nprintln(\"done\")","authenticationInfo":{},"dateUpdated":"Jun 16, 2017 2:00:24 PM","config":{"colWidth":12,"editorMode":"ace/mode/scala","editorHide":false,"title":true,"graph":{"mode":"table","height":247,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{"container":"dcb-bdcs-apr12","CONTAINER":"citibike","FILENAME":"201612-citibike-tripdata"},"forms":{}},"jobName":"paragraph_1497039953618_-225036357","id":"20170414-134031_1271833288","dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 16, 2017 2:00:25 PM","dateFinished":"Jun 16, 2017 2:00:49 PM","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:204","focus":true},{"text":"%md\n#Querying the bike trip information\n\nNow we can show some examples of querying our bike_trips table.  You will need to have first run the above paragraph to ensure that the temporary table bike_trips_temp is registered in your current Spark Session.","authenticationInfo":{},"dateUpdated":"Jun 16, 2017 1:56:46 PM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953618_-225036357","id":"20170417-093337_291620887","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>Querying the bike trip information</h1>\n<p>Now we can show some examples of querying our bike_trips table.  You will need to have first run the above paragraph to ensure that the temporary table bike_trips_temp is registered in your current Spark Session.</p>\n"},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 16, 2017 1:56:43 PM","dateFinished":"Jun 16, 2017 1:56:43 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:205"},{"title":"Trips by Gender","text":"%sql\nselect \n case when a.gender=1 then 'Male' when a.gender=2 then 'Female' else 'unknown' end gender ,\n        a.trip_count \nfrom (select gender, count(*) trip_count from bike_trips_temp\ngroup by gender) a","authenticationInfo":{},"dateUpdated":"Jun 14, 2017 4:32:38 PM","config":{"colWidth":6,"editorMode":"ace/mode/sql","title":true,"graph":{"mode":"pieChart","height":294,"optionOpen":false,"keys":[{"name":"gender","index":0,"aggr":"sum"}],"values":[{"name":"trip_count","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"gender","index":0,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953618_-225036357","id":"20170417-095126_1698083225","result":{"code":"SUCCESS","type":"TABLE","msg":"gender\ttrip_count\nunknown\t42399\nMale\t596628\nFemale\t173165\n","comment":"","msgTable":[[{"key":"trip_count","value":"unknown"},{"key":"trip_count","value":"42399"}],[{"value":"Male"},{"value":"596628"}],[{"value":"Female"},{"value":"173165"}]],"columnNames":[{"name":"gender","index":0,"aggr":"sum"},{"name":"trip_count","index":1,"aggr":"sum"}],"rows":[["unknown","42399"],["Male","596628"],["Female","173165"]]},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 14, 2017 4:32:38 PM","dateFinished":"Jun 14, 2017 4:32:42 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:206"},{"title":"Trips by Day of Month","text":"%sql\nselect dayofmonth, count(*)\nfrom (select date_format(`Start Time`,\"H\") hour,\n date_format(`Start Time`,\"E\") dayofweek,\n date_format(`Start Time`,\"d\") dayofmonth\nfrom bike_trips_temp) bike_times\ngroup by dayofmonth","authenticationInfo":{},"dateUpdated":"Jun 14, 2017 4:32:47 PM","config":{"colWidth":6,"editorMode":"ace/mode/sql","title":true,"graph":{"mode":"lineChart","height":314,"optionOpen":false,"keys":[{"name":"dayofmonth","index":0,"aggr":"sum"}],"values":[{"name":"_c1","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"dayofmonth","index":0,"aggr":"sum"},"yAxis":{"name":"_c1","index":1,"aggr":"sum"}},"forceY":true},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953618_-225036357","id":"20170417-095623_1767722062","result":{"code":"SUCCESS","type":"TABLE","msg":"dayofmonth\t_c1\n1\t43242\n2\t42371\n3\t29854\n4\t27455\n5\t35932\n6\t33332\n7\t38021\n8\t39626\n9\t33547\n10\t22379\n11\t17799\n12\t29037\n13\t39025\n14\t37808\n15\t25015\n16\t24490\n17\t6993\n18\t16295\n19\t25649\n20\t27685\n21\t30625\n22\t30889\n23\t26344\n24\t8014\n25\t9924\n26\t10775\n27\t25955\n28\t23601\n29\t13207\n30\t21375\n31\t15928\n","comment":"","msgTable":[[{"key":"_c1","value":"1"},{"key":"_c1","value":"43242"}],[{"value":"2"},{"value":"42371"}],[{"value":"3"},{"value":"29854"}],[{"value":"4"},{"value":"27455"}],[{"value":"5"},{"value":"35932"}],[{"value":"6"},{"value":"33332"}],[{"value":"7"},{"value":"38021"}],[{"value":"8"},{"value":"39626"}],[{"value":"9"},{"value":"33547"}],[{"value":"10"},{"value":"22379"}],[{"value":"11"},{"value":"17799"}],[{"value":"12"},{"value":"29037"}],[{"value":"13"},{"value":"39025"}],[{"value":"14"},{"value":"37808"}],[{"value":"15"},{"value":"25015"}],[{"value":"16"},{"value":"24490"}],[{"value":"17"},{"value":"6993"}],[{"value":"18"},{"value":"16295"}],[{"value":"19"},{"value":"25649"}],[{"value":"20"},{"value":"27685"}],[{"value":"21"},{"value":"30625"}],[{"value":"22"},{"value":"30889"}],[{"value":"23"},{"value":"26344"}],[{"value":"24"},{"value":"8014"}],[{"value":"25"},{"value":"9924"}],[{"value":"26"},{"value":"10775"}],[{"value":"27"},{"value":"25955"}],[{"value":"28"},{"value":"23601"}],[{"value":"29"},{"value":"13207"}],[{"value":"30"},{"value":"21375"}],[{"value":"31"},{"value":"15928"}]],"columnNames":[{"name":"dayofmonth","index":0,"aggr":"sum"},{"name":"_c1","index":1,"aggr":"sum"}],"rows":[["1","43242"],["2","42371"],["3","29854"],["4","27455"],["5","35932"],["6","33332"],["7","38021"],["8","39626"],["9","33547"],["10","22379"],["11","17799"],["12","29037"],["13","39025"],["14","37808"],["15","25015"],["16","24490"],["17","6993"],["18","16295"],["19","25649"],["20","27685"],["21","30625"],["22","30889"],["23","26344"],["24","8014"],["25","9924"],["26","10775"],["27","25955"],["28","23601"],["29","13207"],["30","21375"],["31","15928"]]},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 14, 2017 4:32:47 PM","dateFinished":"Jun 14, 2017 4:32:51 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:207"},{"title":"Trips by Day of Week and Gender","text":"%sql\nselect dayofweek, count(*)\nfrom (select date_format(`Start Time`,\"H\") hour,\n date_format(`Start Time`,\"E\") dayofweek,\n date_format(`Start Time`,\"d\") dayofmonth,\n case when gender=1 then 'Male' when gender=2 then 'Female' else 'unknown' end gender \nfrom bike_trips_temp) bike_times\nwhere (gender=\"${gender=Male,Male|Female|unknown}\" )\ngroup by dayofweek","authenticationInfo":{},"dateUpdated":"Jun 14, 2017 4:32:55 PM","config":{"colWidth":6,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"pieChart","height":300,"optionOpen":false,"keys":[{"name":"dayofweek","index":0,"aggr":"sum"}],"values":[{"name":"_c1","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"dayofweek","index":0,"aggr":"sum"}}},"enabled":true},"settings":{"params":{"gender":"Male"},"forms":{"gender":{"name":"gender","defaultValue":"Male","options":[{"value":"Male","$$hashKey":"object:709"},{"value":"Female","$$hashKey":"object:710"},{"value":"unknown","$$hashKey":"object:711"}],"hidden":false}}},"jobName":"paragraph_1497039953618_-225036357","id":"20170417-101619_429877425","result":{"code":"SUCCESS","type":"TABLE","msg":"dayofweek\t_c1\nTue\t93256\nThu\t115590\nSat\t56793\nSun\t47422\nFri\t110437\nMon\t75736\nWed\t97394\n","comment":"","msgTable":[[{"key":"_c1","value":"Tue"},{"key":"_c1","value":"93256"}],[{"value":"Thu"},{"value":"115590"}],[{"value":"Sat"},{"value":"56793"}],[{"value":"Sun"},{"value":"47422"}],[{"value":"Fri"},{"value":"110437"}],[{"value":"Mon"},{"value":"75736"}],[{"value":"Wed"},{"value":"97394"}]],"columnNames":[{"name":"dayofweek","index":0,"aggr":"sum"},{"name":"_c1","index":1,"aggr":"sum"}],"rows":[["Tue","93256"],["Thu","115590"],["Sat","56793"],["Sun","47422"],["Fri","110437"],["Mon","75736"],["Wed","97394"]]},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 14, 2017 4:32:55 PM","dateFinished":"Jun 14, 2017 4:32:58 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:208"},{"title":"Bike Trips by Hour by day of week","text":"%sql\nselect dayofweek, hour, count(*)\nfrom (select date_format(`Start Time`,\"H\") hour,\n date_format(`Start Time`,\"E\") dayofweek,\n date_format(`Start Time`,\"d\") dayofmonth,\n case when gender=1 then 'Male' when gender=2 then 'Female' else 'unknown' end gender \nfrom bike_trips_temp) bike_times\nwhere (gender=\"${gender=Male,Male|Female|unknown}\" )\ngroup by dayofweek, hour","authenticationInfo":{},"dateUpdated":"Jun 12, 2017 9:47:55 AM","config":{"colWidth":6,"editorMode":"ace/mode/sql","title":true,"graph":{"mode":"lineChart","height":300,"optionOpen":false,"keys":[{"name":"hour","index":1,"aggr":"sum"}],"values":[{"name":"_c2","index":2,"aggr":"sum"}],"groups":[{"name":"dayofweek","index":0,"aggr":"sum"}],"scatter":{"xAxis":{"name":"dayofweek","index":0,"aggr":"sum"},"yAxis":{"name":"hour","index":1,"aggr":"sum"}},"forceY":true,"lineWithFocus":false},"enabled":true},"settings":{"params":{"gender":"Male"},"forms":{"gender":{"name":"gender","defaultValue":"Male","options":[{"value":"Male","$$hashKey":"object:718"},{"value":"Female","$$hashKey":"object:719"},{"value":"unknown","$$hashKey":"object:720"}],"hidden":false}}},"jobName":"paragraph_1497039953618_-225036357","id":"20170414-134451_506665191","result":{"code":"SUCCESS","type":"TABLE","msg":"dayofweek\thour\t_c2\nTue\t20\t3145\nThu\t0\t907\nTue\t21\t2184\nThu\t1\t432\nTue\t22\t1783\nWed\t0\t671\nThu\t2\t244\nTue\t23\t1201\nWed\t1\t301\nThu\t3\t131\nWed\t2\t153\nThu\t4\t202\nWed\t3\t90\nThu\t5\t977\nWed\t4\t168\nThu\t6\t3738\nWed\t5\t774\nThu\t7\t7834\nWed\t6\t2930\nThu\t8\t12893\nWed\t7\t5894\nThu\t9\t8642\nWed\t8\t10195\nWed\t9\t7216\nSat\t10\t3136\nSat\t11\t3781\nFri\t0\t1049\nSat\t12\t4526\nFri\t1\t513\nSat\t13\t4842\nFri\t2\t297\nSat\t14\t4937\nFri\t3\t194\nSat\t15\t5175\nFri\t4\t185\nSat\t16\t4861\nFri\t5\t825\nSat\t17\t4016\nFri\t6\t3124\nSat\t18\t3465\nFri\t7\t6426\nSat\t19\t2820\nFri\t8\t11361\nFri\t9\t8140\nThu\t10\t4607\nThu\t11\t4153\nWed\t10\t3997\nThu\t12\t4779\nWed\t11\t3576\nThu\t13\t4997\nWed\t12\t4160\nThu\t14\t5185\nWed\t13\t4250\nThu\t15\t5866\nWed\t14\t4653\nThu\t16\t7685\nWed\t15\t5201\nThu\t17\t11716\nWed\t16\t6691\nThu\t18\t11064\nSat\t20\t2209\nWed\t17\t9981\nThu\t19\t7186\nSat\t21\t1787\nWed\t18\t9458\nSat\t22\t1501\nWed\t19\t6312\nSat\t23\t1345\nMon\t0\t510\nMon\t1\t231\nMon\t2\t109\nMon\t3\t61\nMon\t4\t85\nMon\t5\t412\nFri\t10\t4852\nMon\t6\t1320\nFri\t11\t4917\nMon\t7\t2777\nFri\t12\t5821\nMon\t8\t6499\nThu\t20\t4751\nFri\t13\t6070\nMon\t9\t5290\nThu\t21\t3303\nFri\t14\t7096\nWed\t20\t4116\nThu\t22\t2591\nFri\t15\t7254\nWed\t21\t2931\nThu\t23\t1707\nFri\t16\t8761\nWed\t22\t2228\nFri\t17\t10088\nWed\t23\t1448\nFri\t18\t8364\nFri\t19\t5501\nSun\t0\t975\nSun\t1\t692\nSun\t2\t470\nSun\t3\t279\nSun\t4\t170\nSun\t5\t116\nSun\t6\t243\nSun\t7\t561\nSun\t8\t1127\nSun\t9\t2012\nFri\t20\t3470\nFri\t21\t2500\nFri\t22\t2078\nFri\t23\t1551\nTue\t0\t584\nMon\t10\t3049\nTue\t1\t268\nMon\t11\t2934\nTue\t2\t138\nMon\t12\t3434\nTue\t3\t106\nMon\t13\t3724\nTue\t4\t195\nMon\t14\t3962\nTue\t5\t801\nMon\t15\t4252\nTue\t6\t3005\nMon\t16\t5336\nTue\t7\t6261\nMon\t17\t8470\nTue\t8\t10771\nMon\t18\t8418\nTue\t9\t7470\nMon\t19\t5581\nSun\t10\t2894\nSun\t11\t3660\nSun\t12\t4178\nSun\t13\t4155\nSun\t14\t4109\nSun\t15\t4155\nSun\t16\t4116\nSun\t17\t3137\nMon\t20\t3740\nSun\t18\t2796\nMon\t21\t2620\nSun\t19\t2317\nMon\t22\t1854\nMon\t23\t1068\nTue\t10\t4077\nTue\t11\t3518\nTue\t12\t4125\nTue\t13\t4537\nTue\t14\t4843\nTue\t15\t5375\nTue\t16\t6750\nSun\t20\t1729\nTue\t17\t9783\nSun\t21\t1424\nTue\t18\t7515\nSat\t0\t1235\nSun\t22\t1288\nTue\t19\t4821\nSat\t1\t782\nSun\t23\t819\nSat\t2\t522\nSat\t3\t291\nSat\t4\t180\nSat\t5\t147\nSat\t6\t424\nSat\t7\t882\nSat\t8\t1523\nSat\t9\t2406\n","comment":"","msgTable":[[{"key":"hour","value":"Tue"},{"key":"hour","value":"20"},{"key":"hour","value":"3145"}],[{"key":"_c2","value":"Thu"},{"key":"_c2","value":"0"},{"key":"_c2","value":"907"}],[{"value":"Tue"},{"value":"21"},{"value":"2184"}],[{"value":"Thu"},{"value":"1"},{"value":"432"}],[{"value":"Tue"},{"value":"22"},{"value":"1783"}],[{"value":"Wed"},{"value":"0"},{"value":"671"}],[{"value":"Thu"},{"value":"2"},{"value":"244"}],[{"value":"Tue"},{"value":"23"},{"value":"1201"}],[{"value":"Wed"},{"value":"1"},{"value":"301"}],[{"value":"Thu"},{"value":"3"},{"value":"131"}],[{"value":"Wed"},{"value":"2"},{"value":"153"}],[{"value":"Thu"},{"value":"4"},{"value":"202"}],[{"value":"Wed"},{"value":"3"},{"value":"90"}],[{"value":"Thu"},{"value":"5"},{"value":"977"}],[{"value":"Wed"},{"value":"4"},{"value":"168"}],[{"value":"Thu"},{"value":"6"},{"value":"3738"}],[{"value":"Wed"},{"value":"5"},{"value":"774"}],[{"value":"Thu"},{"value":"7"},{"value":"7834"}],[{"value":"Wed"},{"value":"6"},{"value":"2930"}],[{"value":"Thu"},{"value":"8"},{"value":"12893"}],[{"value":"Wed"},{"value":"7"},{"value":"5894"}],[{"value":"Thu"},{"value":"9"},{"value":"8642"}],[{"value":"Wed"},{"value":"8"},{"value":"10195"}],[{"value":"Wed"},{"value":"9"},{"value":"7216"}],[{"value":"Sat"},{"value":"10"},{"value":"3136"}],[{"value":"Sat"},{"value":"11"},{"value":"3781"}],[{"value":"Fri"},{"value":"0"},{"value":"1049"}],[{"value":"Sat"},{"value":"12"},{"value":"4526"}],[{"value":"Fri"},{"value":"1"},{"value":"513"}],[{"value":"Sat"},{"value":"13"},{"value":"4842"}],[{"value":"Fri"},{"value":"2"},{"value":"297"}],[{"value":"Sat"},{"value":"14"},{"value":"4937"}],[{"value":"Fri"},{"value":"3"},{"value":"194"}],[{"value":"Sat"},{"value":"15"},{"value":"5175"}],[{"value":"Fri"},{"value":"4"},{"value":"185"}],[{"value":"Sat"},{"value":"16"},{"value":"4861"}],[{"value":"Fri"},{"value":"5"},{"value":"825"}],[{"value":"Sat"},{"value":"17"},{"value":"4016"}],[{"value":"Fri"},{"value":"6"},{"value":"3124"}],[{"value":"Sat"},{"value":"18"},{"value":"3465"}],[{"value":"Fri"},{"value":"7"},{"value":"6426"}],[{"value":"Sat"},{"value":"19"},{"value":"2820"}],[{"value":"Fri"},{"value":"8"},{"value":"11361"}],[{"value":"Fri"},{"value":"9"},{"value":"8140"}],[{"value":"Thu"},{"value":"10"},{"value":"4607"}],[{"value":"Thu"},{"value":"11"},{"value":"4153"}],[{"value":"Wed"},{"value":"10"},{"value":"3997"}],[{"value":"Thu"},{"value":"12"},{"value":"4779"}],[{"value":"Wed"},{"value":"11"},{"value":"3576"}],[{"value":"Thu"},{"value":"13"},{"value":"4997"}],[{"value":"Wed"},{"value":"12"},{"value":"4160"}],[{"value":"Thu"},{"value":"14"},{"value":"5185"}],[{"value":"Wed"},{"value":"13"},{"value":"4250"}],[{"value":"Thu"},{"value":"15"},{"value":"5866"}],[{"value":"Wed"},{"value":"14"},{"value":"4653"}],[{"value":"Thu"},{"value":"16"},{"value":"7685"}],[{"value":"Wed"},{"value":"15"},{"value":"5201"}],[{"value":"Thu"},{"value":"17"},{"value":"11716"}],[{"value":"Wed"},{"value":"16"},{"value":"6691"}],[{"value":"Thu"},{"value":"18"},{"value":"11064"}],[{"value":"Sat"},{"value":"20"},{"value":"2209"}],[{"value":"Wed"},{"value":"17"},{"value":"9981"}],[{"value":"Thu"},{"value":"19"},{"value":"7186"}],[{"value":"Sat"},{"value":"21"},{"value":"1787"}],[{"value":"Wed"},{"value":"18"},{"value":"9458"}],[{"value":"Sat"},{"value":"22"},{"value":"1501"}],[{"value":"Wed"},{"value":"19"},{"value":"6312"}],[{"value":"Sat"},{"value":"23"},{"value":"1345"}],[{"value":"Mon"},{"value":"0"},{"value":"510"}],[{"value":"Mon"},{"value":"1"},{"value":"231"}],[{"value":"Mon"},{"value":"2"},{"value":"109"}],[{"value":"Mon"},{"value":"3"},{"value":"61"}],[{"value":"Mon"},{"value":"4"},{"value":"85"}],[{"value":"Mon"},{"value":"5"},{"value":"412"}],[{"value":"Fri"},{"value":"10"},{"value":"4852"}],[{"value":"Mon"},{"value":"6"},{"value":"1320"}],[{"value":"Fri"},{"value":"11"},{"value":"4917"}],[{"value":"Mon"},{"value":"7"},{"value":"2777"}],[{"value":"Fri"},{"value":"12"},{"value":"5821"}],[{"value":"Mon"},{"value":"8"},{"value":"6499"}],[{"value":"Thu"},{"value":"20"},{"value":"4751"}],[{"value":"Fri"},{"value":"13"},{"value":"6070"}],[{"value":"Mon"},{"value":"9"},{"value":"5290"}],[{"value":"Thu"},{"value":"21"},{"value":"3303"}],[{"value":"Fri"},{"value":"14"},{"value":"7096"}],[{"value":"Wed"},{"value":"20"},{"value":"4116"}],[{"value":"Thu"},{"value":"22"},{"value":"2591"}],[{"value":"Fri"},{"value":"15"},{"value":"7254"}],[{"value":"Wed"},{"value":"21"},{"value":"2931"}],[{"value":"Thu"},{"value":"23"},{"value":"1707"}],[{"value":"Fri"},{"value":"16"},{"value":"8761"}],[{"value":"Wed"},{"value":"22"},{"value":"2228"}],[{"value":"Fri"},{"value":"17"},{"value":"10088"}],[{"value":"Wed"},{"value":"23"},{"value":"1448"}],[{"value":"Fri"},{"value":"18"},{"value":"8364"}],[{"value":"Fri"},{"value":"19"},{"value":"5501"}],[{"value":"Sun"},{"value":"0"},{"value":"975"}],[{"value":"Sun"},{"value":"1"},{"value":"692"}],[{"value":"Sun"},{"value":"2"},{"value":"470"}],[{"value":"Sun"},{"value":"3"},{"value":"279"}],[{"value":"Sun"},{"value":"4"},{"value":"170"}],[{"value":"Sun"},{"value":"5"},{"value":"116"}],[{"value":"Sun"},{"value":"6"},{"value":"243"}],[{"value":"Sun"},{"value":"7"},{"value":"561"}],[{"value":"Sun"},{"value":"8"},{"value":"1127"}],[{"value":"Sun"},{"value":"9"},{"value":"2012"}],[{"value":"Fri"},{"value":"20"},{"value":"3470"}],[{"value":"Fri"},{"value":"21"},{"value":"2500"}],[{"value":"Fri"},{"value":"22"},{"value":"2078"}],[{"value":"Fri"},{"value":"23"},{"value":"1551"}],[{"value":"Tue"},{"value":"0"},{"value":"584"}],[{"value":"Mon"},{"value":"10"},{"value":"3049"}],[{"value":"Tue"},{"value":"1"},{"value":"268"}],[{"value":"Mon"},{"value":"11"},{"value":"2934"}],[{"value":"Tue"},{"value":"2"},{"value":"138"}],[{"value":"Mon"},{"value":"12"},{"value":"3434"}],[{"value":"Tue"},{"value":"3"},{"value":"106"}],[{"value":"Mon"},{"value":"13"},{"value":"3724"}],[{"value":"Tue"},{"value":"4"},{"value":"195"}],[{"value":"Mon"},{"value":"14"},{"value":"3962"}],[{"value":"Tue"},{"value":"5"},{"value":"801"}],[{"value":"Mon"},{"value":"15"},{"value":"4252"}],[{"value":"Tue"},{"value":"6"},{"value":"3005"}],[{"value":"Mon"},{"value":"16"},{"value":"5336"}],[{"value":"Tue"},{"value":"7"},{"value":"6261"}],[{"value":"Mon"},{"value":"17"},{"value":"8470"}],[{"value":"Tue"},{"value":"8"},{"value":"10771"}],[{"value":"Mon"},{"value":"18"},{"value":"8418"}],[{"value":"Tue"},{"value":"9"},{"value":"7470"}],[{"value":"Mon"},{"value":"19"},{"value":"5581"}],[{"value":"Sun"},{"value":"10"},{"value":"2894"}],[{"value":"Sun"},{"value":"11"},{"value":"3660"}],[{"value":"Sun"},{"value":"12"},{"value":"4178"}],[{"value":"Sun"},{"value":"13"},{"value":"4155"}],[{"value":"Sun"},{"value":"14"},{"value":"4109"}],[{"value":"Sun"},{"value":"15"},{"value":"4155"}],[{"value":"Sun"},{"value":"16"},{"value":"4116"}],[{"value":"Sun"},{"value":"17"},{"value":"3137"}],[{"value":"Mon"},{"value":"20"},{"value":"3740"}],[{"value":"Sun"},{"value":"18"},{"value":"2796"}],[{"value":"Mon"},{"value":"21"},{"value":"2620"}],[{"value":"Sun"},{"value":"19"},{"value":"2317"}],[{"value":"Mon"},{"value":"22"},{"value":"1854"}],[{"value":"Mon"},{"value":"23"},{"value":"1068"}],[{"value":"Tue"},{"value":"10"},{"value":"4077"}],[{"value":"Tue"},{"value":"11"},{"value":"3518"}],[{"value":"Tue"},{"value":"12"},{"value":"4125"}],[{"value":"Tue"},{"value":"13"},{"value":"4537"}],[{"value":"Tue"},{"value":"14"},{"value":"4843"}],[{"value":"Tue"},{"value":"15"},{"value":"5375"}],[{"value":"Tue"},{"value":"16"},{"value":"6750"}],[{"value":"Sun"},{"value":"20"},{"value":"1729"}],[{"value":"Tue"},{"value":"17"},{"value":"9783"}],[{"value":"Sun"},{"value":"21"},{"value":"1424"}],[{"value":"Tue"},{"value":"18"},{"value":"7515"}],[{"value":"Sat"},{"value":"0"},{"value":"1235"}],[{"value":"Sun"},{"value":"22"},{"value":"1288"}],[{"value":"Tue"},{"value":"19"},{"value":"4821"}],[{"value":"Sat"},{"value":"1"},{"value":"782"}],[{"value":"Sun"},{"value":"23"},{"value":"819"}],[{"value":"Sat"},{"value":"2"},{"value":"522"}],[{"value":"Sat"},{"value":"3"},{"value":"291"}],[{"value":"Sat"},{"value":"4"},{"value":"180"}],[{"value":"Sat"},{"value":"5"},{"value":"147"}],[{"value":"Sat"},{"value":"6"},{"value":"424"}],[{"value":"Sat"},{"value":"7"},{"value":"882"}],[{"value":"Sat"},{"value":"8"},{"value":"1523"}],[{"value":"Sat"},{"value":"9"},{"value":"2406"}]],"columnNames":[{"name":"dayofweek","index":0,"aggr":"sum"},{"name":"hour","index":1,"aggr":"sum"},{"name":"_c2","index":2,"aggr":"sum"}],"rows":[["Tue","20","3145"],["Thu","0","907"],["Tue","21","2184"],["Thu","1","432"],["Tue","22","1783"],["Wed","0","671"],["Thu","2","244"],["Tue","23","1201"],["Wed","1","301"],["Thu","3","131"],["Wed","2","153"],["Thu","4","202"],["Wed","3","90"],["Thu","5","977"],["Wed","4","168"],["Thu","6","3738"],["Wed","5","774"],["Thu","7","7834"],["Wed","6","2930"],["Thu","8","12893"],["Wed","7","5894"],["Thu","9","8642"],["Wed","8","10195"],["Wed","9","7216"],["Sat","10","3136"],["Sat","11","3781"],["Fri","0","1049"],["Sat","12","4526"],["Fri","1","513"],["Sat","13","4842"],["Fri","2","297"],["Sat","14","4937"],["Fri","3","194"],["Sat","15","5175"],["Fri","4","185"],["Sat","16","4861"],["Fri","5","825"],["Sat","17","4016"],["Fri","6","3124"],["Sat","18","3465"],["Fri","7","6426"],["Sat","19","2820"],["Fri","8","11361"],["Fri","9","8140"],["Thu","10","4607"],["Thu","11","4153"],["Wed","10","3997"],["Thu","12","4779"],["Wed","11","3576"],["Thu","13","4997"],["Wed","12","4160"],["Thu","14","5185"],["Wed","13","4250"],["Thu","15","5866"],["Wed","14","4653"],["Thu","16","7685"],["Wed","15","5201"],["Thu","17","11716"],["Wed","16","6691"],["Thu","18","11064"],["Sat","20","2209"],["Wed","17","9981"],["Thu","19","7186"],["Sat","21","1787"],["Wed","18","9458"],["Sat","22","1501"],["Wed","19","6312"],["Sat","23","1345"],["Mon","0","510"],["Mon","1","231"],["Mon","2","109"],["Mon","3","61"],["Mon","4","85"],["Mon","5","412"],["Fri","10","4852"],["Mon","6","1320"],["Fri","11","4917"],["Mon","7","2777"],["Fri","12","5821"],["Mon","8","6499"],["Thu","20","4751"],["Fri","13","6070"],["Mon","9","5290"],["Thu","21","3303"],["Fri","14","7096"],["Wed","20","4116"],["Thu","22","2591"],["Fri","15","7254"],["Wed","21","2931"],["Thu","23","1707"],["Fri","16","8761"],["Wed","22","2228"],["Fri","17","10088"],["Wed","23","1448"],["Fri","18","8364"],["Fri","19","5501"],["Sun","0","975"],["Sun","1","692"],["Sun","2","470"],["Sun","3","279"],["Sun","4","170"],["Sun","5","116"],["Sun","6","243"],["Sun","7","561"],["Sun","8","1127"],["Sun","9","2012"],["Fri","20","3470"],["Fri","21","2500"],["Fri","22","2078"],["Fri","23","1551"],["Tue","0","584"],["Mon","10","3049"],["Tue","1","268"],["Mon","11","2934"],["Tue","2","138"],["Mon","12","3434"],["Tue","3","106"],["Mon","13","3724"],["Tue","4","195"],["Mon","14","3962"],["Tue","5","801"],["Mon","15","4252"],["Tue","6","3005"],["Mon","16","5336"],["Tue","7","6261"],["Mon","17","8470"],["Tue","8","10771"],["Mon","18","8418"],["Tue","9","7470"],["Mon","19","5581"],["Sun","10","2894"],["Sun","11","3660"],["Sun","12","4178"],["Sun","13","4155"],["Sun","14","4109"],["Sun","15","4155"],["Sun","16","4116"],["Sun","17","3137"],["Mon","20","3740"],["Sun","18","2796"],["Mon","21","2620"],["Sun","19","2317"],["Mon","22","1854"],["Mon","23","1068"],["Tue","10","4077"],["Tue","11","3518"],["Tue","12","4125"],["Tue","13","4537"],["Tue","14","4843"],["Tue","15","5375"],["Tue","16","6750"],["Sun","20","1729"],["Tue","17","9783"],["Sun","21","1424"],["Tue","18","7515"],["Sat","0","1235"],["Sun","22","1288"],["Tue","19","4821"],["Sat","1","782"],["Sun","23","819"],["Sat","2","522"],["Sat","3","291"],["Sat","4","180"],["Sat","5","147"],["Sat","6","424"],["Sat","7","882"],["Sat","8","1523"],["Sat","9","2406"]]},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 12, 2017 9:47:55 AM","dateFinished":"Jun 12, 2017 9:48:00 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:209"},{"text":"%md\n#Next Steps\n\nSo far, we have downloaded Citi Bike data and stored it into the Object Store.  Then, we configured Spark to be able to work with CSV files.  Then, we read in the data and defined a Spark SQL temporary table with it.  Finally, we demonstrated a number of different queries.  Did you notice any patterns?  For instance, that men use Citi Bikes more than women?  That on workdays (Mon-Fri) there is a peak around 8am and 5pm, but that peak does not exist on Saturday and Sunday?   \n\nIn part2 of this example, we will look at identifying the top stations for bike checkin and checkout and show how to present that data on a map.\n\n","dateUpdated":"Jun 9, 2017 4:25:53 PM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953619_-225421106","id":"20170417-103925_248941849","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>Next Steps</h1>\n<p>So far, we have downloaded Citi Bike data and stored it into the Object Store.  Then, we configured Spark to be able to work with CSV files.  Then, we read in the data and defined a Spark SQL temporary table with it.  Finally, we demonstrated a number of different queries.  Did you notice any patterns?  For instance, that men use Citi Bikes more than women?  That on workdays (Mon-Fri) there is a peak around 8am and 5pm, but that peak does not exist on Saturday and Sunday?</p>\n<p>In part2 of this example, we will look at identifying the top stations for bike checkin and checkout and show how to present that data on a map.</p>\n"},"dateCreated":"Jun 9, 2017 4:25:53 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:210"},{"text":"%md\n#Extra Credit - Saving our temporary Spark SQL table as a permanent Hive table\n\nThe next few paragraphs show you how you can save a copy of the Spark SQL temporary table as a new permament Hive table.  This might be useful if you want to use BI tools, like Oracle Data Visualization Desktop, to query the permanent table.\n\nThe only trick is that Hive doesn't like spaces in column names, so we rename our columns in our Create Table as Select statement below.","dateUpdated":"Jun 9, 2017 4:25:53 PM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953619_-225421106","id":"20170505-092652_1652882871","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>Extra Credit - Saving our temporary Spark SQL table as a permanent Hive table</h1>\n<p>The next few paragraphs show you how you can save a copy of the Spark SQL temporary table as a new permament Hive table.  This might be useful if you want to use BI tools, like Oracle Data Visualization Desktop, to query the permanent table.</p>\n<p>The only trick is that Hive doesn't like spaces in column names, so we rename our columns in our Create Table as Select statement below.</p>\n"},"dateCreated":"Jun 9, 2017 4:25:53 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:211"},{"title":"Query to list our hive tables BEFORE","text":"%sql\nshow tables","authenticationInfo":{},"dateUpdated":"Jun 16, 2017 2:01:08 PM","config":{"colWidth":12,"editorMode":"ace/mode/sql","graph":{"mode":"table","height":174,"optionOpen":false,"keys":[{"name":"tableName","index":0,"aggr":"sum"}],"values":[{"name":"isTemporary","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"tableName","index":0,"aggr":"sum"},"yAxis":{"name":"isTemporary","index":1,"aggr":"sum"}}},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953619_-225421106","id":"20170505-092452_1351056533","result":{"code":"SUCCESS","type":"TABLE","msg":"tableName\tisTemporary\nbike_trips_temp\ttrue\nbike_trips\tfalse\n","comment":"","msgTable":[[{"key":"isTemporary","value":"bike_trips_temp"},{"key":"isTemporary","value":"true"}],[{"value":"bike_trips"},{"value":"false"}]],"columnNames":[{"name":"tableName","index":0,"aggr":"sum"},{"name":"isTemporary","index":1,"aggr":"sum"}],"rows":[["bike_trips_temp","true"],["bike_trips","false"]]},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 16, 2017 2:01:08 PM","dateFinished":"Jun 16, 2017 2:01:08 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:212","focus":true},{"title":"HiveQL to drop the table (in case you already ran the next step)","text":"%sql\ndrop table bike_trips_parquet","authenticationInfo":{},"dateUpdated":"Jun 16, 2017 1:59:57 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497275301814_1773473104","id":"20170612-094821_740135087","result":{"code":"SUCCESS","type":"TEXT","msg":""},"dateCreated":"Jun 12, 2017 9:48:21 AM","dateStarted":"Jun 16, 2017 1:59:58 PM","dateFinished":"Jun 16, 2017 2:00:00 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:213","focus":true},{"title":"HiveQL to create a permanent Hive table from our SparkSQL temporary table","text":"%sql\ncreate table bike_trips_parquet\nstored as parquet\nas select `Trip Duration` TRIPDURATION,\n`Start Time` STARTTIME,\n`Stop Time` STOPTIME,\n`Start Station ID` STARTSTATIONID,\n`Start Station Name` STARTSTATIONNAME,\n`Start Station Latitude` STARTSTATIONLATITUDE,\n`Start Station Longitude` STARTSTATIONLONGITUDE,\n`End Station ID` ENDSTATIONID,\n`End Station Name` ENDSTATIONNAME,\n`End Station Latitude` ENDSTATIONLATITUDE,\n`End Station Longitude` ENDSTATIONLONGITUDE,\n`Bike ID` BIKEID,\n`User Type` USERTYPE,\n`Birth Year` BIRTHYEAR,\n`Gender` GENDER\n from bike_trips_temp","authenticationInfo":{},"dateUpdated":"Jun 14, 2017 4:36:20 PM","config":{"colWidth":12,"editorMode":"ace/mode/sql","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953619_-225421106","id":"20170414-151953_1584996855","result":{"code":"SUCCESS","type":"TEXT","msg":""},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 14, 2017 4:36:20 PM","dateFinished":"Jun 14, 2017 4:36:28 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:214"},{"title":"Query to show our new permanent table in action","text":"%sql\nselect * from bike_trips_parquet limit 5","authenticationInfo":{},"dateUpdated":"Jun 14, 2017 4:36:31 PM","config":{"colWidth":12,"editorMode":"ace/mode/sql","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"tripduration","index":0,"aggr":"sum"}],"values":[{"name":"starttime","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"tripduration","index":0,"aggr":"sum"},"yAxis":{"name":"starttime","index":1,"aggr":"sum"}}},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953619_-225421106","id":"20170503-195617_839333002","result":{"code":"SUCCESS","type":"TABLE","msg":"tripduration\tstarttime\tstoptime\tstartstationid\tstartstationname\tstartstationlatitude\tstartstationlongitude\tendstationid\tendstationname\tendstationlatitude\tendstationlongitude\tbikeid\tusertype\tbirthyear\tgender\n528\t2016-12-01 00:00:04\t2016-12-01 00:08:52\t499\tBroadway & W 60 St\t40.76915505\t-73.98191841\t228\tE 48 St & 3 Ave\t40.7546011026\t-73.971878855\t26931\tSubscriber\t1964\t1\n218\t2016-12-01 00:00:28\t2016-12-01 00:04:06\t3418\tPlaza St West & Flatbush Ave\t40.6750207\t-73.97111473\t3358\tGarfield Pl & 8 Ave\t40.6711978\t-73.97484126\t27122\tSubscriber\t1955\t1\n399\t2016-12-01 00:00:39\t2016-12-01 00:07:19\t297\tE 15 St & 3 Ave\t40.734232\t-73.986923\t345\tW 13 St & 6 Ave\t40.73649403\t-73.99704374\t19352\tSubscriber\t1985\t1\n254\t2016-12-01 00:00:44\t2016-12-01 00:04:59\t405\tWashington St & Gansevoort St\t40.739323\t-74.008119\t358\tChristopher St & Greenwich St\t40.73291553\t-74.00711384\t20015\tSubscriber\t1982\t1\n1805\t2016-12-01 00:00:54\t2016-12-01 00:31:00\t279\tPeck Slip & Front St\t40.707873\t-74.00167\t279\tPeck Slip & Front St\t40.707873\t-74.00167\t23148\tSubscriber\t1989\t1\n","comment":"","msgTable":[[{"key":"starttime","value":"528"},{"key":"starttime","value":"2016-12-01 00:00:04"},{"key":"starttime","value":"2016-12-01 00:08:52"},{"key":"starttime","value":"499"},{"key":"starttime","value":"Broadway & W 60 St"},{"key":"starttime","value":"40.76915505"},{"key":"starttime","value":"-73.98191841"},{"key":"starttime","value":"228"},{"key":"starttime","value":"E 48 St & 3 Ave"},{"key":"starttime","value":"40.7546011026"},{"key":"starttime","value":"-73.971878855"},{"key":"starttime","value":"26931"},{"key":"starttime","value":"Subscriber"},{"key":"starttime","value":"1964"},{"key":"starttime","value":"1"}],[{"key":"stoptime","value":"218"},{"key":"stoptime","value":"2016-12-01 00:00:28"},{"key":"stoptime","value":"2016-12-01 00:04:06"},{"key":"stoptime","value":"3418"},{"key":"stoptime","value":"Plaza St West & Flatbush Ave"},{"key":"stoptime","value":"40.6750207"},{"key":"stoptime","value":"-73.97111473"},{"key":"stoptime","value":"3358"},{"key":"stoptime","value":"Garfield Pl & 8 Ave"},{"key":"stoptime","value":"40.6711978"},{"key":"stoptime","value":"-73.97484126"},{"key":"stoptime","value":"27122"},{"key":"stoptime","value":"Subscriber"},{"key":"stoptime","value":"1955"},{"key":"stoptime","value":"1"}],[{"key":"startstationid","value":"399"},{"key":"startstationid","value":"2016-12-01 00:00:39"},{"key":"startstationid","value":"2016-12-01 00:07:19"},{"key":"startstationid","value":"297"},{"key":"startstationid","value":"E 15 St & 3 Ave"},{"key":"startstationid","value":"40.734232"},{"key":"startstationid","value":"-73.986923"},{"key":"startstationid","value":"345"},{"key":"startstationid","value":"W 13 St & 6 Ave"},{"key":"startstationid","value":"40.73649403"},{"key":"startstationid","value":"-73.99704374"},{"key":"startstationid","value":"19352"},{"key":"startstationid","value":"Subscriber"},{"key":"startstationid","value":"1985"},{"key":"startstationid","value":"1"}],[{"key":"startstationname","value":"254"},{"key":"startstationname","value":"2016-12-01 00:00:44"},{"key":"startstationname","value":"2016-12-01 00:04:59"},{"key":"startstationname","value":"405"},{"key":"startstationname","value":"Washington St & Gansevoort St"},{"key":"startstationname","value":"40.739323"},{"key":"startstationname","value":"-74.008119"},{"key":"startstationname","value":"358"},{"key":"startstationname","value":"Christopher St & Greenwich St"},{"key":"startstationname","value":"40.73291553"},{"key":"startstationname","value":"-74.00711384"},{"key":"startstationname","value":"20015"},{"key":"startstationname","value":"Subscriber"},{"key":"startstationname","value":"1982"},{"key":"startstationname","value":"1"}],[{"key":"startstationlatitude","value":"1805"},{"key":"startstationlatitude","value":"2016-12-01 00:00:54"},{"key":"startstationlatitude","value":"2016-12-01 00:31:00"},{"key":"startstationlatitude","value":"279"},{"key":"startstationlatitude","value":"Peck Slip & Front St"},{"key":"startstationlatitude","value":"40.707873"},{"key":"startstationlatitude","value":"-74.00167"},{"key":"startstationlatitude","value":"279"},{"key":"startstationlatitude","value":"Peck Slip & Front St"},{"key":"startstationlatitude","value":"40.707873"},{"key":"startstationlatitude","value":"-74.00167"},{"key":"startstationlatitude","value":"23148"},{"key":"startstationlatitude","value":"Subscriber"},{"key":"startstationlatitude","value":"1989"},{"key":"startstationlatitude","value":"1"}]],"columnNames":[{"name":"tripduration","index":0,"aggr":"sum"},{"name":"starttime","index":1,"aggr":"sum"},{"name":"stoptime","index":2,"aggr":"sum"},{"name":"startstationid","index":3,"aggr":"sum"},{"name":"startstationname","index":4,"aggr":"sum"},{"name":"startstationlatitude","index":5,"aggr":"sum"},{"name":"startstationlongitude","index":6,"aggr":"sum"},{"name":"endstationid","index":7,"aggr":"sum"},{"name":"endstationname","index":8,"aggr":"sum"},{"name":"endstationlatitude","index":9,"aggr":"sum"},{"name":"endstationlongitude","index":10,"aggr":"sum"},{"name":"bikeid","index":11,"aggr":"sum"},{"name":"usertype","index":12,"aggr":"sum"},{"name":"birthyear","index":13,"aggr":"sum"},{"name":"gender","index":14,"aggr":"sum"}],"rows":[["528","2016-12-01 00:00:04","2016-12-01 00:08:52","499","Broadway & W 60 St","40.76915505","-73.98191841","228","E 48 St & 3 Ave","40.7546011026","-73.971878855","26931","Subscriber","1964","1"],["218","2016-12-01 00:00:28","2016-12-01 00:04:06","3418","Plaza St West & Flatbush Ave","40.6750207","-73.97111473","3358","Garfield Pl & 8 Ave","40.6711978","-73.97484126","27122","Subscriber","1955","1"],["399","2016-12-01 00:00:39","2016-12-01 00:07:19","297","E 15 St & 3 Ave","40.734232","-73.986923","345","W 13 St & 6 Ave","40.73649403","-73.99704374","19352","Subscriber","1985","1"],["254","2016-12-01 00:00:44","2016-12-01 00:04:59","405","Washington St & Gansevoort St","40.739323","-74.008119","358","Christopher St & Greenwich St","40.73291553","-74.00711384","20015","Subscriber","1982","1"],["1805","2016-12-01 00:00:54","2016-12-01 00:31:00","279","Peck Slip & Front St","40.707873","-74.00167","279","Peck Slip & Front St","40.707873","-74.00167","23148","Subscriber","1989","1"]]},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 14, 2017 4:36:31 PM","dateFinished":"Jun 14, 2017 4:36:32 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:215"},{"title":"Query to list our Hive tables AFTER","text":"%sql\nshow tables","authenticationInfo":{},"dateUpdated":"Jun 14, 2017 4:37:28 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"tableName","index":0,"aggr":"sum"}],"values":[{"name":"isTemporary","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"tableName","index":0,"aggr":"sum"},"yAxis":{"name":"isTemporary","index":1,"aggr":"sum"}}},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497039953619_-225421106","id":"20170503-195744_526374432","result":{"code":"SUCCESS","type":"TABLE","msg":"tableName\tisTemporary\nbike_trips_temp\ttrue\nbike_trips\tfalse\nbike_trips_parquet\tfalse\n","comment":"","msgTable":[[{"key":"isTemporary","value":"bike_trips_temp"},{"key":"isTemporary","value":"true"}],[{"value":"bike_trips"},{"value":"false"}],[{"value":"bike_trips_parquet"},{"value":"false"}]],"columnNames":[{"name":"tableName","index":0,"aggr":"sum"},{"name":"isTemporary","index":1,"aggr":"sum"}],"rows":[["bike_trips_temp","true"],["bike_trips","false"],["bike_trips_parquet","false"]]},"dateCreated":"Jun 9, 2017 4:25:53 PM","dateStarted":"Jun 14, 2017 4:36:57 PM","dateFinished":"Jun 14, 2017 4:36:57 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:216"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1497472617540_644994212","id":"20170614-163657_1564876178","dateCreated":"Jun 14, 2017 4:36:57 PM","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:217"}],"name":" Tutorial 6 Working with the Spark Interpreter","id":"2CM1W8H2T","angularObjects":{"2CKYUH771":[],"2CHQCE7WB":[],"2CM73VNZC":[],"2CJ9M7X3E":[],"2CM9MFPDC":[{"name":"BIND_ObjectStorage_Container","object":"citibike","noteId":"2CM1W8H2T"}],"2CKUFFGB5":[],"2CH76629W":[],"2CJ6JMU49":[],"2CMM8Y2GW":[]},"config":{"looknfeel":"default"},"info":{}}