{"paragraphs":[{"text":"%sh\n\nexport oss_identity_domain='gse00010212'\nexport oss_username='cloud.admin'\nexport oss_password='ReplaceWithYourPassword'\nexport backup_container='backup'\n\nlogin_string=\"$(curl -v -s -X GET -H \"X-Storage-User: Storage-\"$oss_identity_domain\":\"$oss_username\"\" -H \"X-Storage-Pass: \"$oss_password\"\" \"https://\"$oss_identity_domain\".storage.oraclecloud.com/auth/v1.0\" --stderr - | grep X-Auth-Token)\"\n\nauth_token=\"$(echo $login_string | sed -n -e 's/^.*X-Auth-Token: //p')\"\n\nnotebooks=\"$( hadoop fs -ls /user/zeppelin/notebook | sed '1d;s/  */ /g' | cut -d\\  -f8 | xargs -n 1 basename)\"\n\nfor arg in $notebooks; do\n  book=\"$(hadoop fs -cat  /user/zeppelin/notebook/$arg/note.json |grep name |tail -1 | sed -e 's/\"name\": \"\\(.*\\)\",/\\1/' | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//' | sed s/\\ /\\%20/g)\"\n  echo $book \n  rm -f note.json\n  hadoop fs -get  /user/zeppelin/notebook/$arg/note.json \n  curl -v -X PUT -H \"X-Auth-Token: \"$auth_token\"\" -T note.json https://\"$oss_identity_domain\".storage.oraclecloud.com/v1/Storage-\"$oss_identity_domain\"/\"$backup_container\"/\"$book\".json\ndone","user":"anonymous","dateUpdated":"2017-12-22T21:39:13+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":"false"},"editorMode":"ace/mode/sh","editorHide":false,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1513965091655_-1683889911","id":"20171222-175131_13667333","dateCreated":"2017-12-22T17:51:31+0000","status":"ABORT","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:299","dateFinished":"2017-12-22T21:39:06+0000","dateStarted":"2017-12-22T21:39:03+0000","results":{"code":"INCOMPLETE","msg":[{"type":"TEXT","data":"Paragraph received a SIGTERM\nExitValue: 143"}]}},{"text":"","user":"anonymous","dateUpdated":"2017-12-22T18:44:21+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1513968261479_-2032348774","id":"20171222-184421_2087991337","dateCreated":"2017-12-22T18:44:21+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:835"}],"name":"Backup Notebooks","id":"2D1BE5BF3","angularObjects":{"2CSSN8URU:shared_process":[],"2CPZU1SK4:shared_process":[],"2CSWPFFC9:shared_process":[],"2CS33UGU3:shared_process":[],"2CS764PFA:shared_process":[],"2CRKGJJG6:shared_process":[],"2C4U48MY3_spark2:shared_process":[],"2CRTTNSNC:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}